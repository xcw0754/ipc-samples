# fork 创建子进程

创建的子进程会共享(继承)父进程的一些资源(特性)，如

```
实际用户ID、实际组ID
有效用户ID、有效组ID
附加组ID
进程组ID
会话ID
控制终端
设置用户ID标记和设置组ID标志
当前工作目录
根目录
文件模式创建屏蔽字
信号屏蔽与安排
针对任意打开文件描述符的在执行时关闭(close-on-exec)标志
环境
连接的共享存储段
存储映射
资源限制
```

子进程也有很多资源(特性)是不继承的，如
```
进程ID
父进程ID
新进程tms_utime tms_stime tms_cutime tms_ustime均为0
文件锁
新进程未处理的alarm被清除
新进程未处理信号集为空集
```



上面的名词有些很陌生，针对上面那些名词的解释一下
```
实际用户ID、实际组ID:跟打开Linux时登录的那个用户是一样的，标识了你是谁
有效用户ID、有效组ID:决定了你实际上能干啥，比如访问某些文件
附加组ID:每个进程有零至多个附加的组，也是这些组的成员
进程组ID:由一至多个进程构成，比如可以针对某进程组发SIGKILL信号
会话ID:一个会话包含多个进程组，一个会话可由一个tty控制，退出tty时，在tty前台运行的所有进程组都回收到信号(试试ps j)
控制终端:pts/3、pts/4这些
设置用户ID标记和设置组ID标志
当前工作目录:chdir、fchdir函数
根目录:根目录是可以变的!试试chroot命令
文件模式创建屏蔽字:创建文件或目录时所赋予的权限，试试umask函数
信号屏蔽与安排:调用过的signal函数
针对任意打开文件描述符的在执行时关闭(close-on-exec)标志
环境:试试env命令
连接的共享存储段:应该指共享内存吧
存储映射:应该还是共享内存吧
资源限制:句柄上限等等
```
